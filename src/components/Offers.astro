---
const ofertas = [
  { imagen: "/src/assets/images/promo-3.png", alt: "Oferta Apache 1" },
  { imagen: "/src/assets/images/promo-3.png", alt: "Oferta Apache 2" },
  { imagen: "/src/assets/images/promo-3.png", alt: "Oferta Apache 3" },
];
---

<!-- src/components/OfertasSlider.astro -->
<section id="ofertas" class="bg-gray-100 py-16 px-6">
  <div class="max-w-6xl mx-auto text-center mb-8">
    <h2 class="text-3xl md:text-4xl font-bold text-gray-800">
      Ofertas Especiales
    </h2>
    <p class="text-gray-600 mt-2">Aprovecha nuestras promociones limitadas</p>
  </div>

  <div class="relative max-w-4xl mx-auto">
    <div id="slider" class="overflow-hidden rounded-xl shadow-md">
      <div id="slides" class="flex transition-transform duration-700">
        {
          ofertas.map(({ imagen, alt }) => (
            <img
              src={imagen}
              alt={alt}
              class="w-full flex-shrink-0 object-cover h-72 md:h-96"
            />
          ))
        }
      </div>
    </div>

    <!-- Controles -->
    <div class="flex justify-between mt-4">
      <button
        id="prev"
        class="text-red-600 hover:text-red-800 font-bold text-2xl">←</button
      >
      <button
        id="next"
        class="text-red-600 hover:text-red-800 font-bold text-2xl">→</button
      >
    </div>
  </div>
</section>

<script is:inline>
  document.addEventListener("DOMContentLoaded", () => {
    const slides = document.getElementById("slides");
    const prev = document.getElementById("prev");
    const next = document.getElementById("next");
    const total = slides.children.length;
    let index = 0;

    function updateSlide() {
      slides.style.transform = `translateX(-${index * 100}%)`;
    }

    next.addEventListener("click", () => {
      index = (index + 1) % total;
      updateSlide();
    });

    prev.addEventListener("click", () => {
      index = (index - 1 + total) % total;
      updateSlide();
    });
  });
</script>
